# Staging Environment Configuration
# Copy this file to .env.staging for staging deployments
# ==========================================

# Server Configuration
PORT=4002
NODE_ENV=staging

# Database Configuration (PostgreSQL)
# ==========================================
# STAGING: Use a separate staging database
# For Vercel Preview deployments, use a staging PostgreSQL instance
DATABASE_URL="postgresql://user:password@staging-host:5432/onboarding_staging?schema=public&connection_limit=5&pool_timeout=10"
POSTGRES_URL="postgresql://user:password@staging-host:5432/onboarding_staging?schema=public"

# Base URL Configuration
# For Vercel Preview deployments, this is auto-detected from VERCEL_URL
# Override manually if needed:
# APP_BASE_URL=https://your-staging-app.vercel.app

# Preferred Domain (Redirect)
# Set your staging domain here if you have a custom domain for staging
# Example: PREFERRED_DOMAIN=staging.yourdomain.com
PREFERRED_DOMAIN=

# GoHighLevel OAuth Configuration
# ==========================================
# Use STAGING GHL app credentials (create a separate app in GHL Marketplace for staging)
GHL_CLIENT_ID=your_staging_ghl_client_id_here
GHL_CLIENT_SECRET=your_staging_ghl_client_secret_here

# OAuth Redirect URI
# For Vercel Preview: Auto-constructed from VERCEL_URL
# For custom staging domain: https://staging.yourdomain.com/oauth/callback
# GHL_REDIRECT_URI=https://your-staging-app.vercel.app/oauth/callback

# Userpilot Analytics (Staging)
# ==========================================
# Use staging API keys for testing
USERPILOT_API_KEY=your_staging_api_key
USERPILOT_STAGE_API_KEY=your_staging_api_key

# Client-side tracking (widget) - Staging token
USERPILOT_TOKEN=your_staging_userpilot_app_token
USERPILOT_STAGE_TOKEN=your_staging_app_token

# CC360 Customers Admin API Configuration
# ==========================================
# Use staging API key if you have a separate staging environment
CC360_CUSTOMERS_API_KEY=your_staging_cc360_api_key_here
# CC360_CUSTOMERS_API_BASE_URL=https://staging-cc360-customers-admin.vercel.app/api

# Widget Location Filter (OPTIONAL)
# ==========================================
# Use a test location ID for staging
WIDGET_LOCATION_ID_FILTER=

# Feature Flags
# ==========================================
# Test feature flags in staging before production
FEATURE_CONNECT_PAYMENTS_ENABLED=true

# Migration Security (for manual migrations)
# ==========================================
# Generate a separate secret for staging
# openssl rand -base64 32
VERCEL_MIGRATE_SECRET=your_staging_migrate_secret_here

# Skip migrations during build (set to "true" for Vercel)
SKIP_BUILD_MIGRATIONS=true
