# Server Configuration
PORT=4002
NODE_ENV=development

# JWT Authentication Secret
# Generate a secure random string for JWT token signing
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_change_this_in_production

# Database Configuration (PostgreSQL)
# ==========================================
# LOCAL DEVELOPMENT (Docker Compose):
#   Uses PostgreSQL container from docker-compose.yml
DATABASE_URL="postgresql://user:password@localhost:5432/onboarding?schema=public"
POSTGRES_URL="postgresql://user:password@localhost:5432/onboarding?schema=public"

# VERCEL PRODUCTION:
#   Vercel auto-injects these when you connect Vercel Postgres:
#   - POSTGRES_PRISMA_URL or DATABASE_URL → pooled connection for queries
#   - POSTGRES_URL → direct connection for migrations
#   You don't need to set these manually on Vercel!

# Base URL Configuration
# For local development, this is auto-detected as http://localhost:4002
# For Vercel, this is auto-detected from VERCEL_URL
# Override manually if needed:
# APP_BASE_URL=https://your-custom-domain.com

# Frontend URL Configuration (for OAuth redirects)
# After successful OAuth, users are redirected here
# For local development: http://localhost:3000 (auto-detected)
# For Vercel: uses VERCEL_URL (auto-detected)
# Override manually if frontend is on different domain:
# FRONTEND_URL=https://your-frontend-domain.com

# GoHighLevel OAuth Configuration
# Get these from GHL Marketplace → Your App → Auth section
GHL_CLIENT_ID=your_ghl_client_id_here
GHL_CLIENT_SECRET=your_ghl_client_secret_here

# OAuth Redirect URI
# Auto-constructed from APP_BASE_URL if not set
# For local dev: http://localhost:4002/oauth/callback
# For Vercel: https://your-app.vercel.app/oauth/callback
# Only set this if you need to override the auto-detection:
# GHL_REDIRECT_URI=https://your-app.vercel.app/oauth/callback

# OAuth URLs (optional - defaults provided)
# GHL_AUTHORIZE_URL=https://marketplace.gohighlevel.com/oauth/authorize
# GHL_TOKEN_URL=https://services.leadconnectorhq.com/oauth/token

# OAuth Scopes (optional - defaults provided)
# GHL_SCOPES=courses.write courses.readonly products/prices.readonly products.readonly products.write products/prices.write products/collection.readonly products/collection.write payments/integration.readonly payments/subscriptions.readonly payments/custom-provider.readonly businesses.readonly locations.readonly locations/customValues.readonly funnels/page.readonly funnels/funnel.readonly funnels/pagecount.readonly funnels/redirect.readonly payments/orders.readonly payments/transactions.readonly

# GoHighLevel App Base URL
# Base URL for GoHighLevel app links in the widget
# Defaults to coursecreator360 whitelabel if not set
# For whitelabel: https://app.coursecreator360.com
# For standard GHL: https://app.gohighlevel.com
# GHL_APP_BASE_URL=https://app.gohighlevel.com

# Userpilot Analytics (optional)
# ==========================================
# Server-side tracking (webhook events) - Get from Userpilot Dashboard → Settings → API Keys
USERPILOT_API_KEY=your_production_api_key
USERPILOT_STAGE_API_KEY=your_staging_api_key
# USERPILOT_API_BASE=https://api.userpilot.io

# Client-side tracking (widget) - Get from Userpilot Dashboard → Settings → Installation
# This is your App Token (different from API Key)
USERPILOT_TOKEN=your_userpilot_app_token
USERPILOT_STAGE_TOKEN=your_staging_app_token

